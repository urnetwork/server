==================
WARNING: DATA RACE
Write at 0x00c000a29510 by goroutine 233202:
  runtime.recvDirect()
      /usr/local/go/src/runtime/chan.go:348 +0x7c
  bringyour.com/service/connect.(*ResidentTransport).Close()
      /Users/brien/bringyour/bringyour/connect/resident.go:1165 +0xc4
  bringyour.com/service/connect.(*ConnectHandler).Connect.func1.2()
      /Users/brien/bringyour/bringyour/connect/connect_handler.go:183 +0x9c

Previous read at 0x00c000a29510 by goroutine 233203:
  runtime.chansend1()
      /usr/local/go/src/runtime/chan.go:146 +0x2c
  bringyour.com/service/connect.(*ConnectHandler).Connect.func1.3()
      /Users/brien/bringyour/bringyour/connect/connect_handler.go:208 +0x268
  bringyour.com/bringyour.HandleError()
      /Users/brien/bringyour/bringyour/bringyour/trace.go:66 +0xa8
  bringyour.com/service/connect.(*ConnectHandler).Connect.func1.gowrap3()
      /Users/brien/bringyour/bringyour/connect/connect_handler.go:186 +0x6c

Goroutine 233202 (running) created at:
  bringyour.com/service/connect.(*ConnectHandler).Connect.func1()
      /Users/brien/bringyour/bringyour/connect/connect_handler.go:180 +0x3e0
  bringyour.com/service/connect.(*ConnectHandler).Connect()
      /Users/brien/bringyour/bringyour/connect/connect_handler.go:261 +0x9d0
  bringyour.com/service/connect.(*ConnectHandler).Connect-fm()
      <autogenerated>:1 +0x4c
  bringyour.com/bringyour/router.(*Router).ServeHTTP.func1()
      /Users/brien/bringyour/bringyour/bringyour/router/router.go:77 +0x178
  bringyour.com/bringyour/router.(*Router).ServeHTTP()
      /Users/brien/bringyour/bringyour/bringyour/router/router.go:78 +0x2d0
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x298
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0xf28
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4c

Goroutine 233203 (finished) created at:
  bringyour.com/service/connect.(*ConnectHandler).Connect.func1()
      /Users/brien/bringyour/bringyour/connect/connect_handler.go:186 +0x608
  bringyour.com/service/connect.(*ConnectHandler).Connect()
      /Users/brien/bringyour/bringyour/connect/connect_handler.go:261 +0x9d0
  bringyour.com/service/connect.(*ConnectHandler).Connect-fm()
      <autogenerated>:1 +0x4c
  bringyour.com/bringyour/router.(*Router).ServeHTTP.func1()
      /Users/brien/bringyour/bringyour/bringyour/router/router.go:77 +0x178
  bringyour.com/bringyour/router.(*Router).ServeHTTP()
      /Users/brien/bringyour/bringyour/bringyour/router/router.go:78 +0x2d0
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:3137 +0x298
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:2039 +0xf28
  net/http.(*Server).Serve.gowrap3()
      /usr/local/go/src/net/http/server.go:3285 +0x4c
==================
