==================
WARNING: DATA RACE
Write at 0x00c0025cd8f0 by goroutine 29418:
  runtime.mapassign()
      /usr/local/go/src/runtime/map.go:579 +0x4fc
  bringyour.com/service/connect.(*residentContractManager).CloseContract.func1()
      /Users/brien/bringyour/bringyour/connect/resident_contract_manager.go:222 +0x178
  bringyour.com/service/connect.(*residentContractManager).CloseContract()
      /Users/brien/bringyour/bringyour/connect/resident_contract_manager.go:225 +0x54
  bringyour.com/service/connect.(*residentController).handleCloseContract()
      /Users/brien/bringyour/bringyour/connect/resident_controller.go:217 +0x140
  bringyour.com/service/connect.(*residentController).HandleControlMessage()
      /Users/brien/bringyour/bringyour/connect/resident_controller.go:63 +0xc4
  bringyour.com/service/connect.(*Resident).handleClientReceive()
      /Users/brien/bringyour/bringyour/connect/resident.go:1642 +0x320
  bringyour.com/service/connect.(*Resident).handleClientReceive-fm()
      <autogenerated>:1 +0x5c
  bringyour.com/connect.(*Client).receive.func1()
      /Users/brien/bringyour/connect/connect/transfer.go:409 +0xa4
  bringyour.com/connect.(*Client).receive()
      /Users/brien/bringyour/connect/connect/transfer.go:410 +0xd4
  bringyour.com/connect.(*Client).receive-fm()
      <autogenerated>:1 +0x5c
  bringyour.com/connect.(*ReceiveSequence).receiveHead()
      /Users/brien/bringyour/connect/connect/transfer.go:2311 +0x328
  bringyour.com/connect.(*ReceiveSequence).receive()
      /Users/brien/bringyour/connect/connect/transfer.go:2213 +0x998
  bringyour.com/connect.(*ReceiveSequence).Run()
      /Users/brien/bringyour/connect/connect/transfer.go:1957 +0x728
  bringyour.com/connect.(*ReceiveBuffer).Pack.func1.1()
      /Users/brien/bringyour/connect/connect/transfer.go:1649 +0x3c

Previous read at 0x00c0025cd8f0 by goroutine 28761:
  bringyour.com/service/connect.(*residentContractManager).HasActiveContract()
      /Users/brien/bringyour/bringyour/connect/resident_contract_manager.go:127 +0x280
  bringyour.com/service/connect.(*Resident).handleClientForward()
      /Users/brien/bringyour/bringyour/connect/resident.go:1550 +0x318
  bringyour.com/service/connect.(*Resident).handleClientForward-fm()
      <autogenerated>:1 +0x6c
  bringyour.com/connect.(*Client).forward.func1()
      /Users/brien/bringyour/connect/connect/transfer.go:419 +0xb4
  bringyour.com/connect.(*Client).forward()
      /Users/brien/bringyour/connect/connect/transfer.go:420 +0xb0
  bringyour.com/connect.(*Client).run()
      /Users/brien/bringyour/connect/connect/transfer.go:612 +0x2128
  bringyour.com/connect.NewClient.gowrap1()
      /Users/brien/bringyour/connect/connect/transfer.go:270 +0x34

Goroutine 29418 (running) created at:
  bringyour.com/connect.(*ReceiveBuffer).Pack.func1()
      /Users/brien/bringyour/connect/connect/transfer.go:1648 +0x34c
  bringyour.com/connect.(*ReceiveBuffer).Pack()
      /Users/brien/bringyour/connect/connect/transfer.go:1662 +0xf0
  bringyour.com/connect.(*Client).run()
      /Users/brien/bringyour/connect/connect/transfer.go:549 +0x1c78
  bringyour.com/connect.NewClient.gowrap1()
      /Users/brien/bringyour/connect/connect/transfer.go:270 +0x34

Goroutine 28761 (running) created at:
  bringyour.com/connect.NewClient()
      /Users/brien/bringyour/connect/connect/transfer.go:270 +0x7e8
  bringyour.com/connect.NewClientWithDefaults()
      /Users/brien/bringyour/connect/connect/transfer.go:251 +0x40
  bringyour.com/service/connect.NewResident()
      /Users/brien/bringyour/bringyour/connect/resident.go:1419 +0x7c
  bringyour.com/service/connect.(*Exchange).NominateLocalResident.func1()
      /Users/brien/bringyour/bringyour/connect/resident.go:285 +0x188
  bringyour.com/service/connect.(*Exchange).NominateLocalResident()
      /Users/brien/bringyour/bringyour/connect/resident.go:292 +0x5ac
  bringyour.com/service/connect.(*ResidentTransport).Run()
      /Users/brien/bringyour/bringyour/connect/resident.go:1201 +0x110
  bringyour.com/service/connect.(*ResidentTransport).Run-fm()
      <autogenerated>:1 +0x34
  bringyour.com/bringyour.HandleError()
      /Users/brien/bringyour/bringyour/bringyour/util.go:116 +0x8c
  bringyour.com/service/connect.NewResidentTransport.gowrap1()
      /Users/brien/bringyour/bringyour/connect/resident.go:1054 +0x5c
==================
